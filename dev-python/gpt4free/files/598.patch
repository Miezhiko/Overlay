From 13d4a04501437c47d9f0d3e48b0b7f79597e6e3b Mon Sep 17 00:00:00 2001
From: Ulan Aitbay <69082498+enganese@users.noreply.github.com>
Date: Wed, 24 May 2023 00:38:59 +0500
Subject: [PATCH 1/2] Updated gpt4free/usesless/__init__.py (email confirmation
 in while loop)

---
 gpt4free/usesless/__init__.py | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

diff --git a/gpt4free/usesless/__init__.py b/gpt4free/usesless/__init__.py
index 9efc410f..2295f640 100644
--- a/gpt4free/usesless/__init__.py
+++ b/gpt4free/usesless/__init__.py
@@ -52,7 +52,14 @@ def create(logging: bool = False):
             quit()
 
         while True:
-            time.sleep(5)
+            messages = mail_client.message_list()
+            
+            # Check if method `message_list()` didn't return None or empty list.
+            if not messages or len(messages) == 0:
+                # If it returned None or empty list sleep for 5 seconds to wait for new message. 
+                time.sleep(5)
+                continue
+            
             message_id = mail_client.message_list()[0]["id"]
             message = mail_client.message(message_id)
             verification_url = re.findall(

From 1a354adf3b7ba076351eb4f724779a5aeba9e739 Mon Sep 17 00:00:00 2001
From: Ulan Aitbay <69082498+enganese@users.noreply.github.com>
Date: Wed, 24 May 2023 01:06:39 +0500
Subject: [PATCH 2/2] Changed the first solution of error __init__.py

Tried another approach that perfectly fits the logic of [@ezerinz's](https://github.com/ezerinz) email confirmation code
---
 gpt4free/usesless/__init__.py | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

diff --git a/gpt4free/usesless/__init__.py b/gpt4free/usesless/__init__.py
index 2295f640..ee59e67f 100644
--- a/gpt4free/usesless/__init__.py
+++ b/gpt4free/usesless/__init__.py
@@ -52,14 +52,10 @@ def create(logging: bool = False):
             quit()
 
         while True:
+            time.sleep(5)
             messages = mail_client.message_list()
-            
-            # Check if method `message_list()` didn't return None or empty list.
             if not messages or len(messages) == 0:
-                # If it returned None or empty list sleep for 5 seconds to wait for new message. 
-                time.sleep(5)
                 continue
-            
             message_id = mail_client.message_list()[0]["id"]
             message = mail_client.message(message_id)
             verification_url = re.findall(
